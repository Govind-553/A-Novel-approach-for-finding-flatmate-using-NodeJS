<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flatmate</title>
    <link rel="icon" href="/img/home.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Calistoga&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Oleo+Script&family=Spicy+Rice&display=swap" rel="stylesheet">        
<style>
    :root {
        --primary-color: #D0B8A8;
        --secondary-color: #333;
        --accent-color: #FF676D;
        --bg-light: #f6f5ee;
        --text-dark: #2f415e;
        --white: #fff;
    }

    body, html {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 26px;
        overflow-x: hidden; 
        width: 100%;
    }

    html {
        scroll-behavior: smooth;
    }

    /* Navbar */
    .navbar {
        margin: 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #c0c0c0;
        padding: 10px 40px;
        box-shadow: 0 4px 30px 10px rgba(0,0,0,0.1);
        width: 100%;
        height: 110px;
        position: fixed;
        top: 0;
        z-index: 1000;
        box-sizing: border-box; 
    }

    .navbar-left h1 {
        margin: 0;
        font-family: 'Calistoga', cursive;
        font-size: 50px;
        line-height: 1;
    }

    .navbar-center {
        flex: 1; 
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        margin: 0 20px; 
    }

    .search-container {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        max-width: 700px; /* Increased from 500px */
    }

    .navbar-center input { 
        width: 100%;
        height: 40px;
        padding: 5px 70px 5px 15px; 
        border: 1px solid #ccc;
        outline: none;
        border-radius: 20px;
        transition: box-shadow 0.3s ease;
        font-size: 16px;
    }

    .navbar-center input:focus {
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }
    
    .search-icons-group {
        position: absolute;
        right: 10px;
        display: flex;
        align-items: center;
        gap: 5px;
        height: 100%;
    }

    .navbar-center .icon-link {
        border: none;
        background: none;
        cursor: pointer;
        padding: 5px;
        color: #666;
        font-size: 16px;
        margin: 0;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .navbar-center .icon-link:hover {
        background-color: rgba(0,0,0,0.1);
        color: #333;
        transform: none; 
    }

    .navbar-right {
    display: flex;
    align-items: center;
    gap: 60px;
}

.navbar-right button.nav-link {
    font-size: 19px;
    padding: 10px 26px;
    border-radius: 30px;
    cursor: pointer;
}
    
    .navbar-right button.nav-link:hover {
        background: #333;
        color: #fff;
    }

    .profile-icon {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background-color: #f1f1f1;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.profile-icon i {
    font-size: 32px;
}

.hamburger {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 10px;
        z-index: 1002;
    }

    .hamburger-line {
        display: block;
        width: 25px;
        height: 3px;
        margin: 5px 0;
        background-color: #333;
        transition: all 0.3s ease;
        border-radius: 2px;
    }

    /* Header/Hero */
    header {
        width: 100%;
        height: 775px; 
        margin-top: 90px;
        background-image: url(/img/Homebackground.jpg);
        background-size: 100% 100%; 
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
    }

    #header h1 {
        position: absolute; 
        left: 50%; /* Modified from 52% */
        transform: translateX(-50%);
        top: 60px; 
        text-align: center;
        width: 100%;
        margin: 0;
        font-size: clamp(32px, 4vw, 65px);
        background: url('https://media.giphy.com/media/U3qYN8S0j3bpK/giphy.gif') repeat; 
        background-position: 40% 50%; 
        background-clip: text; 
        -webkit-background-clip: text; 
        color: transparent; 
        text-shadow: 3px 3px 4px rgba(0, 0, 0, 0.2); 
        font-family: 'Oleo Script', system-ui; 
        font-weight: 400;
        font-style: normal;
        padding: 0 10px;
        box-sizing: border-box; 
    }

    #header p {
        color: whitesmoke;
        font-weight: 750;
        font-family: 'DM Serif Display', serif; 
        position: absolute; 
        left: 50%; /* Modified from 52% */
        transform: translateX(-50%);
        bottom: 50px; 
        letter-spacing: 0.1rem;
        margin: 0;
        text-align: center;
        width: 100%;
        font-size: 1.5vw;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    }

    .icon-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: 0;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        color: white;
        font-size: 20px;
        transition: transform 0.3s ease;
    }

    .icon-link:not(.navbar-center .icon-link):hover {
        transform: scale(1.1);
    }

    .fas, .fab {
        color: inherit;
    }
    
    /* Popups */
    .user-popup {
        width: 250px; 
        position: absolute;
        top: calc(100% + 45px); /* Increased top to clear the navbar */
        right: 0; 
        left: auto;
        transform: translateY(-10px);
        background-color: #fff;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        visibility: hidden;
        opacity: 0;
        z-index: 1001;
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;
    }
    
    /* Arrow for popup */
    .user-popup::before {
        content: "";
        position: absolute;
        top: -10px;
        right: 15px; 
        left: auto; 
        transform: none; 
        border-width: 0 10px 10px 10px;
        border-style: solid;
        border-color: transparent transparent #fff transparent;
    }
    
    .user-popup.open-popup {
       visibility: visible;
       opacity: 1;
       transform: translateY(0);
    }

    .user-popup h6 {
        font-family: 'DM Serif Display', serif; 
        font-size: 15px; 
        font-weight: 600; 
        margin: 5px 0 10px 0;
        text-align: center;
        line-height: 1.3;
    }

    .user-popup button {
        font-family: 'DM Serif Display', serif;
        font-weight: 700; 
        font-size: 14px; 
        width: 100%; 
        padding: 5px;
        border-radius: 15px; 
        background: #D0B8A8;
        border: none;
        color: white;
        cursor: pointer;
    }

    .profile-container {
        position: relative;
    }
    
    .profile-icon-btn {
        background: none;
        border: none;
        padding: 0;
        height: auto;
        width: auto;
    }
    
    .profile-icon i {
        color: black;
    }

    .popup {
        width: 85%; 
        max-width: 320px; 
        background-color: #fff;
        border-radius: 12px;
        position: absolute;
        top: 50%;
        left: 50%; 
        transform: translate(-50%, -50%) scale(0.1);
        text-align: center;
        padding: 15px 20px; 
        color: #333;
        visibility: hidden;
        transition: transform 0.4s, top 0.4s;
        box-shadow: 0 5px 30px rgba(0,0,0,0.3);
        z-index: 10000;
        word-wrap: break-word; 
    }

    .open-popup {
        visibility: visible;
        top: 50%;
        transform: translate(-50%, -50%) scale(1);
    }

    .popup p, .popup ul {
        color: black;
        text-align: left;
        font-size: 16px; 
        margin: 0;
        padding: 0;
    }
    
    .popup h5 {
        font-size: 20px; 
        font-weight: 600;
        margin: 10px 0;
        color: #333;
    }

    .popup-list {
        list-style: none;
        padding: 0;
        margin: 10px 0;
        width: 100%;
        text-align: left;
    }

    .popup-list li {
        margin-bottom: 8px;
        font-size: 16px; /* Increased from 13px */
        display: flex;
        align-items: center;
        gap: 8px;
        color: #444;
        word-break: break-all;
    }
    
    .popup h2 {
        font-size: 32px;
        font-weight: 500;
        margin: 10px 0;
    }

    .popup button {
        width: 100%;
        margin-top: 20px;
        padding: 10px 0;
        background-color: #D0B8A8;
        color: #fff;
        border: 0;
        outline: none;
        font-size: 18px;
        border-radius: 4px;
        cursor: pointer;
        box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2);
    }

    /* Sections */
    .how-it-works {
        background: linear-gradient(180deg, #fff 0%, #f6f5ee 100%); 
        padding: 80px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 0;
    }
    .content-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px; 
        align-items: center;
        max-width: 1400px; 
        width: 100%;
        margin: 0 auto; 
    }
    .text-content {
        text-align: left;
    }

    .how-it-works h2 {
        font-family: 'DM Serif Display', serif;
        font-size: 3.5rem;
        color: #333;
        margin-bottom: 30px;
        position: relative;
        display: inline-block;
    }

    .tabs {
        display: inline-flex;
        background-color: #eaeaea;
        padding: 5px;
        border-radius: 50px;
        gap: 0;
        margin-bottom: 30px;
        box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
    }
    .tab {
        padding: 12px 25px;
        font-size: 1rem;
        background: transparent;
        border: none;
        cursor: pointer;
        color: #777;
        font-weight: 600;
        border-radius: 40px;
        transition: all 0.3s ease;
        font-family: 'Poppins', sans-serif;
    }
    .tab.active {
        background-color: #fff;
        color: #333;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    
    .checklist {
        list-style: none;
        padding: 0; 
        margin-bottom: 40px;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .checklist li {
        font-size: 1.1rem; 
        color: #444;
        background: #fff;
        padding: 15px 20px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        display: flex;
        align-items: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid rgba(0,0,0,0.03);
    }
    
    .checklist li:hover {
        transform: translateX(10px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    }

    .checkmark {
        background: linear-gradient(135deg, #34d399 0%, #059669 100%);
        color: white;            
        border-radius: 50%;      
        width: 32px; 
        height: 32px; 
        display: flex;           
        align-items: center;     
        justify-content: center; 
        font-size: 16px;
        margin-right: 20px; 
        flex-shrink: 0; 
        box-shadow: 0 4px 10px rgba(52, 211, 153, 0.3);
    }
    .get-started {
        background: linear-gradient(135deg, #D0B8A8 0%, #bca595 100%);
        color: white;
        border: none;
        font-size: 1.2rem;
        padding: 15px 40px;
        cursor: pointer;
        border-radius: 50px;
        transition: all 0.3s ease;
        font-weight: 600;
        box-shadow: 0 10px 20px rgba(208, 184, 168, 0.4);
        font-family: 'DM Serif Display', serif;
        letter-spacing: 0.5px;
    }
    .get-started:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(208, 184, 168, 0.5);
    }
    
    .tab-content {
        display: none;
        animation: fadeIn 0.5s ease-out forwards;
    }
    .tab-content.active {
        display: block;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .image-content {
        display: flex;
        justify-content: center;
        position: relative;
    }
    .image-content img {
        width: 100%; 
        max-width: 600px;
        height: auto; 
        object-fit: contain;
        filter: drop-shadow(0 20px 40px rgba(0,0,0,0.1));
    }
    
    /* About Section */
    .about-section {
        padding: 60px 20px;
        background-color: #fff;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center; 
    }
    .grid-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-gap: 100px; 
        max-width: 1500px; 
        width: 100%;
        align-items: center;
        margin: 0 auto; 
    }
    .image-section {
        width: 100%;
        max-width: 500px;
        perspective: 1000px; 
    }

    .flip-card {
        width: 100%;
        height: auto;
        cursor: pointer;
        background-color: transparent;
    }

    .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
    }

    .flip-card.flipped .flip-card-inner {
        transform: rotateY(180deg);
    }

    .flip-card-front, .flip-card-back {
        position: relative; 
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .flip-card-front img {
        width: 100%;
        height: auto;
        border-radius: 12px;
        display: block;
    }

    .flip-card-back {
        position: absolute;
        top: 0;
        left: 0;
        background-color: #333; 
        color: white;
        transform: rotateY(180deg);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%; 
        border-radius: 12px;
    }
    .description-section {
        padding: 20px;
    }
    .description-section h2 {
        font-size: 2.5rem;
        margin-top: 0; 
        margin-bottom: 25px;
    }
    .description-section p {
        font-size: 1.15rem;
        line-height: 1.7;
        margin-bottom: 25px;
        color: #555;
    }
    .learn-more {
        background-color: var(--primary-color);
        color: #fff;
        padding: 12px 30px;
        border: none;
        cursor: pointer;
        font-size: 1.1rem;
        border-radius: 8px;
        font-weight: 600;
        font-family: 'DM Serif Display', serif;
    }
    .learn-more:hover {
        background-color: #bfa08e;
    }

    /* Profiles & Services Section Headers */
    .section-header-container {
        font-family: 'DM Serif Display', serif; 
        letter-spacing: 0.05rem; 
        position: relative; 
        text-align: center;
        padding-top: 40px;
    }
    
    .section-header-title {
        font-size: 3rem;
        margin: 20px 0;
        color: #333;
    }

    .section-header-container h3 {
        font-size: 2rem;
        margin: 10px 0 30px;
        color: #666;
    }

    .container {
        max-width: 1500px;
        margin: 0 auto;
        padding: 0 50px;
        box-sizing: border-box;
    }

    .filter-container {
        max-width: 1500px;
        margin: 0 auto 20px;
        padding: 0 50px; 
        display: flex;
        justify-content: flex-end;
        position: relative;
        box-sizing: border-box;
    }
    
    .filter-btn {
        background-color: #D0B8A8; 
        padding: 10px 20px; 
        cursor: pointer; 
        font-size: 16px; 
        display: inline-flex; 
        align-items: center; 
        border-radius: 8px;
        border: none;
        color: #fff;
        font-weight: 600;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    #filterDropdown {
        display: none; 
        background-color: #fff; 
        padding: 20px; 
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        width: 200px; 
        position: absolute; 
        top: 50px; 
        right: 40px; 
        z-index: 50;
        text-align: left;
        border: 1px solid #eee;
    }
    
    #filterDropdown label { 
        font-size: 14px; 
        font-weight: 600;
        display: block;
        margin-bottom: 5px;
        color: #555;
    }
    #filterDropdown select { 
        margin-bottom: 15px; 
        width: 100%; 
        padding: 8px; 
        border-radius: 5px; 
        border: 1px solid #ddd;
    }
    #filterDropdown button { 
        background-color: #D0B8A8; 
        padding: 10px; 
        width: 100%; 
        cursor: pointer; 
        border-radius: 5px; 
        border: none; 
        color: white;
        font-weight: bold;
    }

    /* Contact Us */
    .contact-section {
        background-color: #f6f5ee;
        padding: 60px 20px;
        margin-top: 50px;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center; 
    }

    .contact-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 100px;
        max-width: 100%;
        margin: 0 auto;
        align-items: start;
    }

    .contact-form h2 {
        font-family: 'DM Serif Display', serif;
        font-size: 2.5rem;
        color: #333;
        margin-bottom: 30px;
    }

    .contact-form form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .contact-form input, .contact-form textarea {
        width: 100%;
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
        font-family: 'Poppins', sans-serif;
        box-sizing: border-box;
    }

    .contact-form textarea {
        resize: vertical;
        min-height: 120px;
    }

    .contact-form button {
        background-color: #D0B8A8;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 18px;
        cursor: pointer;
        font-weight: 600;
        transition: background-color 0.3s;
        align-self: flex-start;
    }

    .contact-form button:hover {
        background-color: #333;
    }

    .contact-info {
        padding-top: 20px;
    }

    .contact-info h3 {
        font-family: 'DM Serif Display', serif;
        font-size: 2rem;
        margin-bottom: 25px;
        color: #333;
    }

    .contact-info p {
        font-size: 1.1rem;
        margin-bottom: 15px;
        color: #555;
    }

    .contact-info a {
        display: inline-block;
        margin-top: 10px;
        color: #333;
        text-decoration: underline;
        font-weight: 600;
    }

    @media (max-width: 768px) {
        .contact-container {
            grid-template-columns: 1fr;
            gap: 40px;
        }
    }

    /* Cards & Swiper */
    .swiper {
        width: 100%;
        max-width: 1500px;
        margin: 0 auto !important; 
        padding: 40px 20px 60px !important; 
        box-sizing: border-box;
        padding: 40px 50px 60px !important; 
        box-sizing: border-box;
    }

    .card {
        width: 100%;
        height: 500px !important; 
        position: relative;
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-sizing: border-box;
        margin: 0 auto; 
    }

    .card:hover {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        transform: translateY(-15px) !important; 
    }

    .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        height: 190px; 
        width: 100%;
        background: #D0B8A8;
        border-radius: 20px 20px 0 0;
    }

    .card-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 20px 20px;
        position: relative;
        z-index: 100;
        width: 100%;
        box-sizing: border-box;
        height: 100%;
    }

    .card .image {
        height: 150px;
        width: 150px;
        border-radius: 50%;
        padding: 4px;
        background-color: #fff;
        margin-top: 60px; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .card .image img {
        height: 100%;
        width: 100%;
        object-fit: cover;
        border-radius: 50%;
    }

    .name-profession {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 35px; /* Increased top margin */
        text-align: center;
        flex-grow: 1;
    }

    .name-profession .name {
        font-size: 26px; /* Increased font size */
        font-weight: 600;
        color: #333;
    }
    .name-profession .profession {
        font-size: 18px; 
        font-weight: 700; 
        margin-top: 5px;
        color: #666;
    }

    .card-btn {
        background: #FF676D;
        outline: none;
        border: none;
        color: #fff;
        padding: 10px 30px;
        border-radius: 25px;
        font-size: 16px;
        transition: all 0.3s ease;
        cursor: pointer;
        margin-bottom: 20px;
        box-shadow: 0 4px 10px rgba(255, 103, 109, 0.3);
    }
    
    .card-btn.secondary {
        background-color: #D0B8A8;
        font-family: 'DM Serif Display', serif;
        font-size: 18px;
        font-weight: 400;
        box-shadow: 0 4px 10px rgba(208, 184, 168, 0.4);
    }
    
    .card-btn:hover {
         transform: translateY(-2px);
         box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }

    .swiper-pagination {
        bottom: 0 !important;
    }

    .swiper-pagination-bullet {
        height: 8px;
        width: 8px;
        transition: width 0.3s;
        border-radius: 4px;
        background: #D0B8A8;
        opacity: 0.5;
    }
    
    .swiper-pagination-bullet-active {
        width: 24px;
        background: #FF676D;
        opacity: 1;
    }

    .swiper-button-prev, .swiper-button-next {
        color: #D0B8A8;
        transition: all 0.3s ease;
        width: 50px;
        height: 50px;
        background: transparent;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: none;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        margin-top: -10px; 
        z-index: 10;
        cursor: pointer;
    }
    .swiper-button-prev {
        left: 0px; 
    }
    .swiper-button-next {
        right: 0px; 
    }
    .swiper-button-prev::after, .swiper-button-next::after {
        font-size: 30px;
        font-weight: bold;
    }
    
    .swiper-button-prev:hover, .swiper-button-next:hover {
        background: transparent;
        color: #FF676D;
        box-shadow: none; /* Removed circle shadow */
    }

    /* Footer */
    #footer-section {
        background-color: rgb(53, 49, 49);
        position: relative;
    }

    footer {
        color: rgb(165, 160, 160);
        font-family: 'Calistoga', cursive;
        padding: 60px 20px;
        display: grid; 
        grid-template-columns: 1.2fr 1fr 1fr; 
        gap: 80px;
        max-width: 1600px; 
        margin: 0 auto;
        justify-items: center; 
        align-items: start;
    }

    footer .feet {
        max-width: 100%;
        justify-self: start; 
    }
    footer .feet h1 {
        font-size: 52px; 
        color: white;
        margin-bottom: 20px;
        margin-top: 0;
    }
    footer .feet p {
        font-size: 20px; 
        line-height: 1.8;
        font-family: 'Poppins', sans-serif;
        margin: 0;
        font-weight: 400;
    }
    .feet .copyright p {
        font-size: 14px;
        opacity: 0.7;
        margin-top: 20px;
    }
    footer .feet2, footer .contact {
        min-width: 150px;
    }
    footer .feet2 p, footer .contact p {
        font-size: 32px; 
        color: white;
        margin-top: 0;
        margin-bottom: 25px;
    }

    footer .feet2 a {
        text-decoration: none;
        color: rgb(165, 160, 160);
        font-family: 'Poppins', sans-serif;
        display: block;
        text-align: left;
        margin-bottom: 12px;
        font-size: 22px; 
        transition: all 0.3s ease;
    }
    footer .feet2 a:hover {
        color: white;
        padding-left: 5px;
    }

    footer .contact a {
        text-decoration: none;
        color: white;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px; 
        background: rgba(255,255,255,0.1);
        border-radius: 50%;
        margin-right: 10px;
        font-size: 24px;
        transition: all 0.3s ease;
    }
    
    footer .contact a:hover {
        background: #FF676D;
        transform: translateY(-3px);
    }
    
    /* Laptop/Desktop adjustments for footer spacing */
    @media (max-width: 1440px) {
        footer {
            gap: 30px;
            grid-template-columns: 1.3fr 0.8fr 0.8fr;
        }
        footer .feet h1 {
            font-size: 40px; 
        }
        footer .feet p {
            font-size: 16px; 
        }
        footer .feet2 p, footer .contact p {
            font-size: 26px; 
        }
        footer .feet2 a {
            font-size: 18px; 
        }
    }

    .scroll-top-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 50px;
      height: 50px;
      font-size: 24px;
      background-color: #D0B8A8;
      color: white;
      padding: 0;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      z-index: 999;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
    }

    .scroll-top-btn:hover {
      background-color: #333;
      transform: translateY(-3px);
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background-color: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
        background-color: #D0B8A8;
        border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background-color: #bfa08e;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
        .navbar {
            padding: 10px 20px;
        }

        .navbar-left {
            order: 1;
        }

        .navbar-center {
            order: 2;
            flex: 1; 
            display: flex;
            margin: 0 20px;
        }

        .hamburger {
            display: block; 
            order: 3;
            margin-left: 0;
            z-index: 1002;
        }

        .navbar-right {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: #c0c0c0;
            flex-direction: column;
            gap: 20px;
            padding: 20px 0;
            display: none; /* Hidden by default */
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            order: 4;
        }

        .navbar-right.active {
            display: flex;
        }
        
        header {
            height: 500px; 
        }
        
        #header h1 {
            font-size: 48px;
        }
        
        #header p {
            font-size: 20px;
        }

        .how-it-works h2 {
            font-size: 3.3rem; 
        }

        /* Stack grids like tablet view for proper organization at 1024px */
        .content-container, .grid-container {
            grid-template-columns: 1fr;
            text-align: center;
            gap: 50px;
        }
        
        .text-content {
            text-align: center;
        }

        .tabs {
            justify-content: center;
        }

        .checklist {
            display: inline-block; 
            text-align: left;
        }

        .image-content, .image-section {
            justify-content: center;
        }

        .image-section {
            margin: 0 auto;
        }
    }


    @media (max-width: 768px) {
        .user-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 80%;
            max-width: 300px;
            box-shadow: 0 0 0 1000px rgba(0,0,0,0.5); /* Backdrop overlay */
        }

        .user-popup.open-popup {
            transform: translate(-50%, -50%) scale(1);
        }

        /* Hide arrow on mobile */
        .user-popup::before {
            display: none;
        }

        header {
            margin-top: 90px;
            height: 400px;
        }
        
        #header h1 {
            font-size: 42px; /* Increased */
            top: 60px;
        }
        
        #header p {
            font-size: 18px; /* Increased */
            bottom: 30px;
        }
        
        .content-container, .grid-container {
            grid-template-columns: 1fr;
            text-align: center;
        }
        
        .text-content {
            text-align: center;
        }
        
        .tabs {
            justify-content: center;
        }
        
        .image-section img {
            width: 100%;
            height: auto;
            margin-bottom: 20px;
        }
        
        footer {
            display: flex; 
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
        }

        footer .feet {
            justify-self: center; 
        }
        
        footer .feet2 a {
            text-align: center;
        }
        
        .swiper {
             padding-top: 20px !important;
             padding-bottom: 50px !important;
        }
        
        .swiper-button-prev, .swiper-button-next {
            display: flex; 
        }

        footer .feet h1 {
            font-size: 40px; /* Increased */
        }
        footer .feet p {
            font-size: 18px; /* Increased */
        }
        footer .feet2 p, footer .contact p {
            font-size: 26px; /* Increased */
        }
        footer .feet2 a {
            font-size: 20px; /* Increased */
        }

        .how-it-works h2 {
            font-size: 3.5rem; /* Increased */
        }

        .image-section {
            margin: 0 auto;
        }
    }

    @media (max-width: 550px) {
        .navbar {
            flex-wrap: wrap; 
            height: auto;
            padding: 15px 20px;
            position: fixed;
            justify-content: space-between; 
        }

        .navbar-left {
            order: 1;
            flex: 0 1 auto; 
        }

        .hamburger {
            order: 2;
            margin-left: 0; 
            display: block;
        }
        
        .navbar-center {
            order: 3;
            width: 100%;
            margin-top: 15px; 
            display: flex;
            justify-content: center;
            margin-left: 0;
            margin-right: 0;
            flex: 1 1 100%; 
        }

        .search-container {
            width: 100%; 
            max-width: none;
        }
        
        header {
            margin-top: 200px; 
        }

        .how-it-works {
            padding: 30px 10px; 
        }

        .how-it-works h2 {
            font-size: 1.8rem;
        }

        .tabs {
            flex-direction: column; 
            width: 100%;
            border-radius: 20px; 
            height: auto;
        }

        .tab {
            width: 100%;
            text-align: center;
            margin-bottom: 5px; 
            border-radius: 15px;
            font-size: 0.95rem;
        }

        .checklist li {
            font-size: 0.95rem; 
            padding: 10px 10px;
        }

        .content-container {
            gap: 30px;
        }

        .description-section h2 {
            font-size: 1.8rem;
        }

        .description-section p {
            font-size: 1rem;
        }
    }

    @media (max-width: 400px) {
        .card {
            height: 470px !important; 
        }
    }

    .contact-privacy {
        margin-top: 20px;
        color: #777;
    }
    .contact-privacy-list {
        padding-left: 20px;
        margin: 0;
        list-style-type: disc;
    }
    .contact-privacy-item {
        margin-bottom: 5px;
    }

    /* Success Modal Styles */
    .modal {
        display: none; 
        position: fixed; 
        z-index: 2000; 
        left: 0;
        top: 0;
        width: 100%; 
        height: 100%; 
        overflow: auto; 
        background-color: rgba(0,0,0,0.5); 
        animation: fadeIn 0.4s;
    }

    .modal-content {
        background-color: #fefefe;
        margin: 15% auto; 
        padding: 30px;
        border: 1px solid #888;
        width: 80%; 
        max-width: 400px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        position: relative;
        animation: slideIn 0.4s;
    }
    
    @keyframes slideIn {
        from {transform: translateY(-50px); opacity: 0;}
        to {transform: translateY(0); opacity: 1;}
    }

    .close-modal {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        position: absolute;
        top: 10px;
        right: 20px;
        cursor: pointer;
    }

    .close-modal:hover,
    .close-modal:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
    
    .modal-body h2 {
        font-family: 'DM Serif Display', serif;
        color: #333;
        margin-top: 10px;
    }
    
    .modal-btn {
        background-color: #34d399;
        color: white;
        border: none;
        padding: 10px 30px;
        border-radius: 20px;
        font-size: 16px;
        cursor: pointer;
        margin-top: 20px;
        font-weight: 600;
        transition: background-color 0.3s;
    }
    
    .modal-btn:hover {
        background-color: #059669;
    }

    /* Checkmark Animation */
    .checkmark-circle {
        width: 80px;
        height: 80px;
        position: relative;
        display: inline-block;
        vertical-align: top;
        margin-bottom: 20px;
    }
    .checkmark-circle .background {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: #34d399;
        position: absolute;
    }
    .checkmark-circle .checkmark {
        border-radius: 5px;
    }
    .checkmark-circle .checkmark.draw:after {
        content: '';
        width: 40px;
        height: 20px;
        position: absolute;
        border-left: 6px solid #fff;
        border-bottom: 6px solid #fff;
        top: 45%; 
        left: 50%; 
        transform: translate(-50%, -50%) rotate(-45deg); 
        animation: checkmark 0.8s ease-in-out forwards;
        opacity: 0;
    }
    
    @keyframes checkmark {
        0% {   width: 0; height: 0; opacity: 0; }
        50% {  width: 0; height: 20px; opacity: 1; }
        100% { width: 40px; height: 20px; opacity: 1; }
    }
</style>
</head>
<body>
<div class="navbar">
    <div class="navbar-left">
        <h1>Flatmate</h1>
    </div>
    
    <button class="hamburger" id="hamburger-btn">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <div class="navbar-center">
        <div class="search-container">
            <input type="text" class="search-box" id="search-input" placeholder="Search profiles and services...">
            <div class="search-icons-group">
                <button id="search-button" class="icon-link search icon">
                    <i class="fas fa-search"></i>
                </button>
                <button id="clear-button" class="icon-link clear icon">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <div class="navbar-right" id="navbar-links">
        <button class="nav-link" onclick="location.href='/loginpage'">Sign in</button>
        <button class="nav-link" onclick="location.href='/servicelogin'">Services</button>
        <button class="nav-link" onclick="location.href='#about-section'">About Us</button>
        
        <div class="profile-container">
            <button onclick="openUserPopup(this)" class="icon-link profile-icon profile-icon-btn">
                <i class="fas fa-user fa-lg"></i>
            </button>
            <div class="user-popup">
                <h6>Please Login to view and edit your profile details!</h6>
                <button type="button" onclick="closeUserPopup(this)">OK</button>
            </div>
        </div>
    </div>
</div>

<header id="header">
    <h1>Welcome to Flatmate</h1>
    <p>The perfect solution for the PG students and service providers.</p>
</header>

<section id="overview" class="how-it-works">
    <div class="content-container">
        <div class="text-content">
            <h2>How Flatmate Works</h2>
            <div class="tabs">
                <button class="tab active" onclick="showTab('rent')">Quick Profile Publish</button>
                <button class="tab" onclick="showTab('find')">Showcase Your Services</button>
            </div>

            <div class="tab-content rent active">
                <ul class="checklist">
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Go to the Sign-Up page to create an account.
                    </li>
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Complete the form to make your profile visible on the site.
                    </li>
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Log in to update your profile on the homepage as needed.
                    </li>
                </ul>
            </div>

            <div class="tab-content find">
                <ul class="checklist">
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Complete the signup form.
                    </li>
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Choose a plan to publish your business.
                    </li>
                    <li>
                        <span class="checkmark"> <i class="fas fa-check"></i></span>
                        Your services will be available to customers upon registration.
                    </li>
                </ul>
            </div>
            <button class="get-started">Get Started</button>
        </div>

        <div class="image-content">
            <img src="/img/laptopuser.png" alt="Illustration of person working on a laptop">
        </div>
    </div>
</section>
    
<section id="about-section" class="about-section">
    <div class="grid-container">
        <!-- Left side (Image) -->
        <div class="image-section">
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="/img/Aboutus.jpg" alt="About Us Image">
                    </div>
                    <div class="flip-card-back">
                         <i class="fas fa-play-circle" style="font-size: 50px; margin-bottom: 20px; color: #D0B8A8;"></i>
                        <p style="font-size: 20px; font-weight: 600;">Flatmate Features</p>
                        <small>(Video Coming Soon)</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right side (Description) -->
        <div class="description-section">
            <h2>Why Flatmate?</h2>
            <p>
                Welcome to our platform! We help students find 
                roommates and rooms easily. Our goal is to make 
                it simple for you to connect with your perfect flatmate 
                or find the right accommodation with just a few clicks. 
            </p>
            <p>
               We ensure that all listings are secure and 
               verified for your safety. Students can register 
               for free to search for roommates and rooms, while 
               service providers like PG owners and meal makers 
               can list their services at an affordable subscription fee. 
               Join us today and start your hassle-free journey to 
               finding your next home!
            </p>
            <button class="learn-more" onclick="window.location.href='https://drive.google.com/file/d/11ublwVwbwZjxBtR6AOUO6mcdZAMQ4OKi/view?usp=drive_link'">Learn More</button>
        </div>
    </div>
</section>

<section id="profiles" class="section-header-container">
    <h1 class="section-header-title">Profiles</h1>

    <div class="filter-container">
        <button id="filterButton" class="filter-btn">
            <i class="fas fa-filter" style="margin-right: 5px;"></i> Filter
        </button>
        
        <div id="filterDropdown">
            <label for="yearFilter">Year:</label>
            <select id="yearFilter">
                <option value="All Years">All Years</option>
                <option value="FE">FE</option>
                <option value="SE">SE</option>
                <option value="TE">TE</option>
                <option value="BE">BE</option>
            </select>
            <br>
            <label for="branchFilter">Branch:</label>
            <select id="branchFilter">
                <option value="All Branches">All Branches</option>
                <option value="INFT">INFT</option>
                <option value="CMPN">CMPN</option>
                <option value="ELEC">ELEC</option>
                <option value="EXTC">EXTC</option>
                <option value="ECS">ECS</option>
            </select>
            <br>
            <button id="applyFilters">Apply Filters</button>
        </div>
    </div>

    <div class="swiper swiper-container profilesSwiper container">
        <div class="swiper-wrapper content">
            <!-- Content injected by JS -->
        </div>
        <!-- Pagination and navigation inside container for positioning -->
        <div class="swiper-button-next profiles-next"></div>
        <div class="swiper-button-prev profiles-prev"></div>
        <div class="swiper-pagination profiles-pagination"></div>
    </div>
</section>

<section id="services-food" class="section-header-container">
    <h1 class="section-header-title">Services</h1>
    <h3>Food</h3>
    <div class="swiper swiper-container foodSwiper container">
        <div class="swiper-wrapper content">
            <!-- Content injected by JS -->
        </div>
        <div class="swiper-button-next food-next"></div>
        <div class="swiper-button-prev food-prev"></div>
        <div class="swiper-pagination food-pagination"></div>
    </div>
</section>

<section id="services-laundry" class="section-header-container">
    <h3>Laundry</h3>
    <div class="swiper swiper-container laundrySwiper container">
        <div class="swiper-wrapper content">
             <!-- Content injected by JS -->
        </div>
        <div class="swiper-button-next laundry-next"></div>
        <div class="swiper-button-prev laundry-prev"></div>
        <div class="swiper-pagination laundry-pagination"></div>
    </div>
</section>

<section id="services-brokers" class="section-header-container">
    <h3>Brokers</h3>
    <div class="swiper swiper-container brokerSwiper container">
        <div class="swiper-wrapper content">
             <!-- Content injected by JS -->
        </div>
        <div class="swiper-button-next broker-next"></div>
        <div class="swiper-button-prev broker-prev"></div>
        <div class="swiper-pagination broker-pagination"></div>
    </div>
</section>


<section id="contact-us" class="contact-section">
    <div class="contact-container">
        <!-- Left: Form -->
        <div class="contact-form">
            <h2>Contact Us</h2>
            <form id="contact-form" action="https://formspree.io/f/xandzlvw" method="POST">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Your Message" required></textarea>
                <button type="submit">Send Message</button>
            </form>
        </div>
        <!-- Right: Info -->
        <div class="contact-info">
            <h3>Get in Touch</h3>
            <p>Have questions or feedback? We'd love to hear from you!</p>
            <p><i class="fas fa-envelope" style="margin-right: 10px;"></i> support@flatmate.com</p>
            <p><i class="fas fa-phone" style="margin-right: 10px;"></i> +91 9234567890</p>
            <div class="contact-privacy">
                <ul class="contact-privacy-list">
                    <li class="contact-privacy-item"><small>We value your privacy. Your data is secure with us.</small></li>
                    <li class="contact-privacy-item"><small>We do not share your personal information with third parties.</small></li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="successModal" class="modal">
      <div class="modal-content">
        <span class="close-modal" onclick="closeSuccessModal()">&times;</span>
        <div class="modal-body">
            <div class="checkmark-circle">
                <div class="background"></div>
                <div class="checkmark draw"></div>
            </div>
            <h2>Success!</h2>
            <p>Form submitted successfully.</p>
            <button class="modal-btn" onclick="closeSuccessModal()">OK</button>
        </div>
      </div>
    </div>
</section>

<section id="footer-section">
    <footer>
        <div class="feet">
            <h1>Flatmate</h1>
            <p>
                Introducing our innovative platform designed to help
                students find the perfect roommates and accommodations. 
                Free registration for students ensures easy access,
                while PG owners, meal providers, and other service
                vendors can expand their reach with our subscription
                service. Built with plain HTML, CSS, JavaScript, Node.js,
                and MySQL, our website features advanced preference 
                matching algorithms along with search & filter options 
                for a seamless experience.
            </p>
            <div class="copyright">
                <p>&copy; 2025 Flatmate. All rights reserved.</p>
            </div>
        </div>
        <div class="feet2">
            <p>Quick links</p>
            <a href="#header">Home</a>
            <a href="#profiles">Profiles</a>
            <a href="#services-food">Services</a>
            <a href="#overview">Overview</a>
            <a href="/team">Our Team</a>
        </div>
        <div class="contact">
            <p>Connect with us</p>
            <a href="" class="icon-link facebook"><i class="fab fa-facebook fa-lg"></i></a>
            <a href="" class="icon-link instagram"><i class="fab fa-instagram fa-lg"></i></a>
            <a href="" class="icon-link youtube"><i class="fab fa-youtube fa-lg"></i></a>
        </div>
    </footer>
    <button id="scrollTopBtn" class="scroll-top-btn">â¬†</button>
</section>

<!-- Include Swiper CSS & JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>
<script>
// Global auth state
let isUserLoggedIn = false;

document.addEventListener('DOMContentLoaded', async () => {
    try {
        try {
            const authResponse = await fetch('/check-auth');
            if (authResponse.ok) {
                const authData = await authResponse.json();
                isUserLoggedIn = authData.loggedIn;
            }
        } catch (authError) {
            console.error('Error checking auth:', authError);
            isUserLoggedIn = false;
        }

        const response = await fetch('/data');
        if (!response.ok) throw new Error('Failed to fetch data');
        const { services, profiles } = await response.json();

        renderProfiles(profiles);
        renderServices(services, 'Food', '.foodSwiper .swiper-wrapper', 'foodservice.jpg');
        renderServices(services, 'Laundry', '.laundrySwiper .swiper-wrapper', 'laundryservice.jpg');
        renderServices(services, 'Broker', '.brokerSwiper .swiper-wrapper', 'brokerservice.jpg');
        
        initializeSwipers();
        
    } catch (error) {
        console.error('Error loading data:', error);
    }
});

// Make popup functions global
window.openPopup = function(button) {
    const popup = button.nextElementSibling;
    popup.classList.add("open-popup");
    popup.style.display = 'block';
}

window.closePopup = function(button) {
    const popup = button.parentElement;
    popup.classList.remove("open-popup");
    popup.style.display = 'none';
}

function openUserPopup(button) {
        const popup = button.nextElementSibling;
        popup.classList.add("open-popup");
    }

    function closeUserPopup(button) {
        const popup = button.parentElement;
        popup.classList.remove("open-popup");
    }

function getSwiperConfig() {
    return {
        slidesPerView: 1, 
        spaceBetween: 20,
        centeredSlides: false,
        grabCursor: true,
        loop: true,
        on: {
            slideChange: function () {
                // Auto-close any open popups when sliding
                const openPopups = document.querySelectorAll('.popup.open-popup');
                openPopups.forEach(popup => {
                    popup.classList.remove('open-popup');
                });
            }
        },
        slidesPerGroup: 1, /* Default for mobile */
        breakpoints: {
            768: { 
                slidesPerView: 2, 
                spaceBetween: 30,
                slidesPerGroup: 2, /* Tablet: Slide 2 at a time */
            },
            1024: { 
                slidesPerView: 3, 
                spaceBetween: 40,
                slidesPerGroup: 3, /* Laptop: Slide 3 at a time */
            },
            1440: { 
                slidesPerView: 3, 
                spaceBetween: 50,
                slidesPerGroup: 3,
            }
        },
        pagination: {
            clickable: true,
            dynamicBullets: true,
            dynamicMainBullets: 3,
        },
    };
}

function initializeSwipers() {
    const commonConfig = getSwiperConfig();

    new Swiper(".profilesSwiper", {
        ...commonConfig,
        pagination: { ...commonConfig.pagination, el: ".profiles-pagination" },
        navigation: { nextEl: ".profiles-next", prevEl: ".profiles-prev" },
    });

    new Swiper(".foodSwiper", {
        ...commonConfig,
        pagination: { ...commonConfig.pagination, el: ".food-pagination" },
        navigation: { nextEl: ".food-next", prevEl: ".food-prev" },
    });

    new Swiper(".laundrySwiper", {
        ...commonConfig,
        pagination: { ...commonConfig.pagination, el: ".laundry-pagination" },
        navigation: { nextEl: ".laundry-next", prevEl: ".laundry-prev" },
    });

    new Swiper(".brokerSwiper", {
        ...commonConfig,
        pagination: { ...commonConfig.pagination, el: ".broker-pagination" },
        navigation: { nextEl: ".broker-next", prevEl: ".broker-prev" },
    });
}

function setupSearchAndFilter() {
    // Search functionality
    const searchButton = document.getElementById('search-button');
    if (searchButton) {
        searchButton.addEventListener('click', function () {
            const searchQuery = document.getElementById('search-input').value.toLowerCase();
            let firstMatchFound = false;
        
            const swiperSections = [
                {
                    selector: '.profilesSwiper',
                    filter: user => user.getAttribute('data-type') === 'profiles',
                    scrollClass: '.profilesSwiper'
                },
                {
                    selector: '.foodSwiper',
                    filter: service => service.getAttribute('data-type') === 'Food',
                    scrollClass: '.foodSwiper'
                },
                {
                    selector: '.laundrySwiper',
                    filter: service => service.getAttribute('data-type') === 'Laundry',
                    scrollClass: '.laundrySwiper'
                },
                {
                    selector: '.brokerSwiper',
                    filter: service => service.getAttribute('data-type') === 'Broker',
                    scrollClass: '.brokerSwiper'
                }
            ];
        
            swiperSections.forEach(section => {
                const swiperContainer = document.querySelector(section.selector);
                const slides = swiperContainer.querySelectorAll('.swiper-slide');
        
                if (searchQuery === '') {
                    slides.forEach(slide => {
                        slide.style.display = 'flex'; // Changed from block to flex for card layout
                    });
                    if (swiperContainer.swiper) swiperContainer.swiper.update();
                    return;
                }
        
                let hasMatch = false;
        
                slides.forEach(slide => {
                    const name = slide.querySelector('.name')?.textContent.toLowerCase() || '';
                    const type = slide.getAttribute('data-type')?.toLowerCase() || '';
        
                    if (name.includes(searchQuery) || type.includes(searchQuery)) {
                        slide.style.display = 'flex'; // Changed to flex
                        hasMatch = true;
                    } else {
                        slide.style.display = 'none';
                    }
                });
        
                if (swiperContainer.swiper) swiperContainer.swiper.update();
        
                if (hasMatch && !firstMatchFound) {
                    document.querySelector(section.scrollClass).scrollIntoView({ behavior: 'smooth' });
                    firstMatchFound = true;
                }
            });
        });
    }

    const clearButton = document.getElementById('clear-button');
    if (clearButton) {
        clearButton.addEventListener('click', function () {
            document.getElementById('search-input').value = '';
            const swiperSections = [
                '.profilesSwiper',
                '.foodSwiper',
                '.laundrySwiper',
                '.brokerSwiper'
            ];
        
            swiperSections.forEach(selector => {
                const swiperContainer = document.querySelector(selector);
                const slides = swiperContainer.querySelectorAll('.swiper-slide');
                slides.forEach(slide => {
                    slide.style.display = 'flex'; // Changed to flex
                });
                if (swiperContainer.swiper) swiperContainer.swiper.update();
            });
        });
    }

    // Filter functionality
    const filterButton = document.getElementById('filterButton');
    if (filterButton) {
        filterButton.addEventListener('click', () => {
            const dropdown = document.getElementById('filterDropdown');
            if (dropdown.style.display === 'none' || dropdown.style.display === '') {
                dropdown.style.display = 'block';
            } else {
                dropdown.style.display = 'none';
                resetFilters();
            }
        });
    }

    const applyFilters = document.getElementById('applyFilters');
    if (applyFilters) {
        applyFilters.addEventListener('click', () => {
            const selectedYear = document.getElementById('yearFilter').value;
            const selectedBranch = document.getElementById('branchFilter').value;
    
            const profileContainer = document.querySelector('.profilesSwiper .swiper-wrapper');
    
            profileContainer.querySelectorAll('.swiper-slide.card').forEach(card => {
                const professionText = card.querySelector('.profession').textContent.trim();
                const [userYear, userBranch] = professionText.split('-').map(str => str.trim());
    
                const yearMatch = selectedYear === "All Years" || userYear === selectedYear;
                const branchMatch = selectedBranch === "All Branches" || userBranch === selectedBranch;
    
                card.style.display = (yearMatch && branchMatch) ? "flex" : "none"; // Changed to flex
            });
    
            const profilesSwiper = document.querySelector('.profilesSwiper').swiper;
            if (profilesSwiper) {
                profilesSwiper.update();
                profilesSwiper.slideTo(0);
            }
            document.getElementById('filterDropdown').style.display = 'none';
        });
    }

    function resetFilters() {
        document.getElementById('yearFilter').value = "All Years";
        document.getElementById('branchFilter').value = "All Branches";
    
        document.querySelectorAll('.profilesSwiper .swiper-wrapper .swiper-slide.card').forEach(card => {
            card.style.display = "flex"; 
        });
    
        const profilesSwiperEl = document.querySelector('.profilesSwiper');
        if (profilesSwiperEl && profilesSwiperEl.swiper) {
             let profilesSwiper = profilesSwiperEl.swiper;
             if (profilesSwiper.destroy) {
                 profilesSwiper.destroy(true, true); 
             }
             
             const commonConfig = getSwiperConfig();
             const swiperConfig = {
                 ...commonConfig,
                 pagination: { ...commonConfig.pagination, el: ".profiles-pagination" },
                 navigation: { nextEl: ".profiles-next", prevEl: ".profiles-prev" },
             };
             profilesSwiper = new Swiper(".profilesSwiper", swiperConfig);
             profilesSwiper.slideTo(0, 0); 
        }
    }
}

// Initialize search and filter
setupSearchAndFilter();
setupTabs();

function setupTabs() {
    // about-us section tabs script
    window.showTab = function(tab) {
        document.querySelectorAll('.tab').forEach(button => {
            button.classList.remove('active');
        });
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
        });
        const tabContent = document.querySelector(`.${tab}`);
        const tabButton = document.querySelector(`.tab[onclick="showTab('${tab}')"]`);
        if (tabContent) tabContent.classList.add('active');
        if (tabButton) tabButton.classList.add('active');
    }

    // Initialize the tabs to show the register pages for students and service providers        
    const getStartedBtn = document.querySelector('.get-started');

    // Add click event to Get Started button
    if (getStartedBtn) {
        getStartedBtn.addEventListener('click', function() {
            const activeRent = document.querySelector('button[onclick="showTab(\'rent\')"].active');
            const activeFind = document.querySelector('button[onclick="showTab(\'find\')"].active');

            if (activeRent) {
                window.location.href = '/registrationpage';
            } else if (activeFind) {
                window.location.href = '/serviceregister';
            }
        });
    }
    
    // Initialize default tab
    showTab('rent');
}

function renderProfiles(profiles) {
    const container = document.querySelector('.profilesSwiper .swiper-wrapper');
    if (!container) return;
    
    container.innerHTML = profiles.map(user => {
        const popupContent = isUserLoggedIn ? `
            <h5>Thank You for visiting My Profile!</h5>
            <h5>Here are my contact details:</h5>
            <ul class="popup-list">
                <li><i class="fas fa-phone"></i> ${user.contact_number}</li>
                <li><i class="fas fa-envelope"></i> ${user.email}</li>
            </ul>
            <div class="social-links" style="margin: 10px 0; display: flex; justify-content: center; gap: 10px;">
                ${user.github ? `<a href="${user.github}" target="_blank" title="GitHub" style="color: #333;"><i class="fab fa-github fa-lg"></i></a>` : ''}
                ${user.linkedin ? `<a href="${user.linkedin}" target="_blank" title="LinkedIn" style="color: #0077b5;"><i class="fab fa-linkedin fa-lg"></i></a>` : ''}
                ${user.instagram ? `<a href="${user.instagram}" target="_blank" title="Instagram" style="color: #E1306C;"><i class="fab fa-instagram fa-lg"></i></a>` : ''}
                ${user.portfolio ? `<a href="${user.portfolio}" target="_blank" title="Portfolio" style="color: #333;"><i class="fas fa-globe fa-lg"></i></a>` : ''}
            </div>
        ` : `
            <h5>Please Login to view the details.</h5>
        `;

        return `
        <div class="swiper-slide card" data-type="profiles">
            <div class="card-content">
                <div class="image">
                    <img src="${user.profile_pic}" alt="User pic">
                </div>
                <div class="name-profession">
                    <span class="name">${user.fULL_name}</span>
                    <span class="profession">${user.year}-${user.branch}</span>
                </div>
                <button class="card-btn secondary" onclick="openPopup(this)">Contact Me</button>
                <div class="popup">
                    ${popupContent}
                    <button type="button" onclick="closePopup(this)">OK</button>
                </div>
            </div>
        </div>
        `;
    }).join('');
}

function renderServices(services, type, selector, imageName) {
    const container = document.querySelector(selector);
    if (!container) return;

    const filteredServices = services.filter(s => s.service === type);
    
    container.innerHTML = filteredServices.map(service => {
        const popupContent = isUserLoggedIn ? `
            <h5>Thank you for visiting our Service!</h5>
            <h5 style="text-align: left;">Connect with us using the details:</h5>
            <ul class="popup-list">
                <li><i class="fas fa-phone"></i> ${service.contact_number}</li>
                <li><i class="fas fa-envelope"></i> ${service.email}</li>
                <li onclick="window.location.href='${service.price_chart_link}';" style="cursor: pointer;"><i class="fas fa-file-invoice"></i> View Price Chart</li>
            </ul>
        ` : `
            <h5>Please Login to view the details.</h5>
        `;

        return `
        <div class="swiper-slide card" data-type="${type}">
            <div class="card-content">
                <div class="image">
                    <img src="/img/${imageName}" alt="${type}-service">
                </div>
                <div class="name-profession">
                    <span class="name">${service.business_Name}</span>
                </div>
                <button class="card-btn secondary service-contact-btn" onclick="openPopup(this)">Contact Us</button>
                <div class="popup" style="margin-top: 20px;">
                    ${popupContent}
                    <button type="button" style="background: #D0B8A8;" onclick="closePopup(this)">OK</button>
                </div>
            </div>
        </div>
        `;
    }).join('');
}

// Hamburger Toggle
document.addEventListener('DOMContentLoaded', () => {
    const hamburger = document.getElementById('hamburger-btn');
    const navbarRight = document.getElementById('navbar-links');
    
    if (hamburger && navbarRight) {
        hamburger.addEventListener('click', () => {
            navbarRight.classList.toggle('active');
            
            // Animate hamburger lines
            const lines = hamburger.querySelectorAll('.hamburger-line');
            if (navbarRight.classList.contains('active')) {
                 lines[0].style.transform = 'rotate(45deg) translate(5px, 6px)';
                 lines[1].style.opacity = '0';
                 lines[2].style.transform = 'rotate(-45deg) translate(5px, -6px)';
            } else {
                 lines[0].style.transform = 'none';
                 lines[1].style.opacity = '1';
                 lines[2].style.transform = 'none';
            }
        });
    }
});

// srcoll to top button script 
document.addEventListener('DOMContentLoaded', () => {
        const scrollBtn = document.getElementById('scrollTopBtn');

        if (scrollBtn) {
            window.onscroll = function () {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    scrollBtn.style.display = 'flex';
                } else {
                    scrollBtn.style.display = 'none';
                }
            };

            scrollBtn.onclick = function () {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };
        }

        const scrollLinks = document.querySelectorAll('a[href^="#"]:not([href="#"])');

        scrollLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    const offset = 130;
                    window.scrollTo({
                        top: targetElement.offsetTop - offset,
                        behavior: 'smooth'
                    });
                }
            });
        });
        // Contact Form & Modal Logic
    const contactForm = document.getElementById('contact-form');
    const successModal = document.getElementById('successModal');

    if (contactForm) {
        contactForm.addEventListener("submit", function(ev) {
            ev.preventDefault();
            const data = new FormData(contactForm);
            
            const submitBtn = contactForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerText;
            submitBtn.innerText = "Sending...";
            submitBtn.disabled = true;

            fetch(contactForm.action, {
                method: contactForm.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    contactForm.reset();
                    openSuccessModal();
                } else {
                    response.json().then(data => {
                        if (Object.hasOwn(data, 'errors')) {
                            alert(data["errors"].map(error => error["message"]).join(", "));
                        } else {
                            alert("Oops! There was a problem submitting your form");
                        }
                    });
                }
            }).catch(error => {
                console.error('Error:', error);
                alert("Oops! There was a problem submitting your form");
            }).finally(() => {
                submitBtn.innerText = originalText;
                submitBtn.disabled = false;
            });
        });
    }

    window.openSuccessModal = function() {
        if(successModal) {
            successModal.style.display = "block";
            // Trigger animation
            const checkmark = successModal.querySelector('.checkmark');
            if(checkmark) {
                // Reset animation
                checkmark.style.animation = 'none';
                checkmark.offsetHeight; /* trigger reflow */
                checkmark.style.animation = null; 
            }
        }
    }

    window.closeSuccessModal = function() {
        if(successModal) {
            successModal.style.display = "none";
        }
    }

    // Close modal when clicking outside of it
    window.onclick = function(event) {
        if (event.target == successModal) {
            closeSuccessModal();
        }
    }
});
</script>

</body>
</html> 